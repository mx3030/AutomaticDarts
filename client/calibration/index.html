<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Automatic Darts Calibration</title>

        <link rel="stylesheet" href="calibration/styles.css" type="text/css" media="screen" title="no title" charset="utf-8">

        <!--external libraries-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    </head>

    <body>
        <div class="container h-100 d-flex flex-column gap-3">
            <div class="d-flex flex-row gap-2">

                <!--calibration selection-->
                <div class="input-group">
                    <span class="input-group-text">Calibration</span>
                    <select id="select-cal-source" class="form-select" aria-label="Selection Calibration"></select>
                </div>


                <!--stream calibration start/stop-->
                <div class="d-flex flex-row justify-content-center gap-2">
                    <button id="btn-cal-reload" class="btn btn-primary">Reload</button>
                    <button id="btn-cal-start" class="btn btn-success">Start</button>
                    <button id="btn-cal-stop" class="btn btn-danger" disabled>Stop</button>
                </div>

            </div>
            
            <!--calibration area-->
            
            <div id="cal-area" class="d-flex flex-row h-75 gap-2">

                <!--img-display-->

                <div class="d-flex justify-content-center h-100 w-50 border">
                    <img id="cal-img" class="img-fluid h-100" src="" alt=""/> 
                </div>
                
                <!--calibration-control-->

                <div class="accordion w-50" id="cal-control">
                    
                    <!--img-pre-processing-->
                    
                    <div class="accordion-item" id="img-pre-processing">
                        <h2 class="accordion-header">
                            <button id="btn-img-pre-processing" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
                                img_pre_processing
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#cal-control">
                            <div id="img-pre-processing-sliders" class="accordion-body d-flex flex-column w-100 gap-5">
                                <!--blur-->
                                <div class="w-100 d-flex gap-2">
                                    <label for="blur-slider" style="width:50px">blur</label>
                                    <input type="range" id="blur-slider" class="flex-grow-1" name="blur-slider" min="1" max="31" value="15" />
                                    <label id="blur-label" for="blur-slider" style="width:50px; text-align: center">15</label>
                                </div>

                                <!--thresh-->
                                <div class="w-100 d-flex gap-2">
                                    <label for="thresh-slider" style="width:50px">thresh</label>
                                    <input type="range" id="thresh-slider" class="flex-grow-1" name="thresh-slider" min="0" max="255" value="100" />
                                    <label id="thresh-label" for="thresh-slider" style="width:50px; text-align: center">100</label>
                                </div>

                                <!--morph-->
                                <div class="w-100 d-flex gap-2">
                                    <label for="morph-slider" style="width:50px">morph</label>
                                    <input type="range" id="morph-slider" class="flex-grow-1" name="morph-slider" min="0" max="10" value="5" />
                                    <label id="morph-label" for="morph-slider" style="width:50px; text-align: center">5</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--search-best-contour-->
                    
                    <div class="accordion-item" id="search-best-contour">
                        <h2 class="accordion-header">
                            <button id="btn-search-best-contour" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                search-best-contour
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#cal-control">
                            <div id="search-best-contour-sliders" class="accordion-body d-flex flex-column w-100 gap-5">
                                <!--select contour-->
                                <div class="w-100 d-flex gap-2">
                                    <label for="contour-slider" style="width:60px">contour</label>
                                    <input type="range" id="contour-slider" class="flex-grow-1" name="contour-slider" min="0" max="0" value="0" />
                                    <label id="contour-label" for="contour-slider" style="width:50px; text-align: center">0</label>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!--config insert-->
        <script charset="utf-8">
            const IP_ADDRESS = '[config:host]';
            const WS_PORT = '[config:ws_port]';
        </script>
        <!--JS-->
        <script charset="utf-8" src="calibration/js/main.js"></script>
        <script charset="utf-8" src="calibration/js/wsHandler.js"></script>
        <script charset="utf-8" src="calibration/js/calibrationHandler.js"></script>
    </body>
</html>
<div>

</div>
